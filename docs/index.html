<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>foleys_gui_magic: foleys_gui_magic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link rel="shortcut icon" href="ff-icon.png" type="image/x-icon" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115384200-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-115384200-1');
</script>
<!-- END Global site tag - Google Analytics -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://foleysfinest.com"><img alt="Logo" src="Logo-FF.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">foleys_gui_magic
   </div>
   <div id="projectbrief">WYSWYG editor for JUCE GUIs including Visualisers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">foleys_gui_magic </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This module allows to create GUIs without any coding. It is created with a DOM model that provides a hierarchical information, and a CSS cascading stylesheet to define rules for the appeareance of the GUI.</p>
<p>There will be a drag and drop editor to add GUI elements, and to connect to parameters of your AudioProcessorValueTreeState. Also an editor in the style of FireBug to investigate the individual properties, and how they were obtained/calculated.</p>
<h2>Setup </h2>
<p>To use the WYSWYG plugin editor, add this module via Projucer to your JUCE project. Remove the PluginEditor, that was automatically created by Projucer. Instead add a member called <code><a class="el" href="classfoleys_1_1MagicProcessorState.html" title="The MagicProcessorState is the docking station for the MagicPluginEditor.">foleys::MagicProcessorState</a></code> to your processor and create a <code><a class="el" href="classfoleys_1_1MagicPluginEditor.html" title="This is a generic AudioProcessorEditor, that is completely defined and styled by drag and drop.">foleys::MagicPluginEditor</a></code> in the <code>createEditor()</code> method of your processor:</p>
<div class="fragment"><div class="line">// assumes an AudioProcessorValueTreeState named treeState</div><div class="line">foleys::MagicProcessorState magicState { *this, treeState };</div><div class="line"></div><div class="line">// return a new editor:</div><div class="line">AudioProcessorEditor* EqualizerExampleAudioProcessor::createEditor()</div><div class="line">{</div><div class="line">    // MAGIC GUI: create the generated editor, load your GUI from magic.xml in the binary resources</div><div class="line">    //            if you haven&#39;t created one yet, just give it a magicState and remove the last two arguments</div><div class="line">    return new foleys::MagicPluginEditor (magicState, BinaryData::magic_xml, BinaryData::magic_xmlSize);</div><div class="line">}</div></div><!-- fragment --><h2>Add Visualisations </h2>
<p>To add visualisations like an Analyser or Osciloscope to your plugin, add them in the constructor to the <code>foleys::MagicPluginState</code>:</p>
<div class="fragment"><div class="line">// Member:</div><div class="line">foleys::MagicPlotSource* analyser = nullptr;</div><div class="line"></div><div class="line">// Constructor</div><div class="line">analyser = magicState.addPlotSource (&quot;input&quot;, std::make_unique&lt;foleys::MagicAnalyser&gt;());</div><div class="line"></div><div class="line">// e.g. in processBlock send the samples to the analyser:</div><div class="line">analyser-&gt;pushSamples (buffer);</div></div><!-- fragment --><p>In your editor, drag a <code>Plot</code> component into the UI and select the name you supplied as <code>source</code>, in this case "input".</p>
<h2>Saving and restoring the plugin </h2>
<p>You can save and restore your plugin state, just as you have been used to. But you can also delegate this to the <code>foleys::MagicPluginState</code>, which will additionally save and restore your PluginEditor's last size:</p>
<div class="fragment"><div class="line">void getStateInformation (MemoryBlock&amp; destData) override</div><div class="line">{</div><div class="line">    // MAGIC GUI: let the magicState conveniently handle save and restore the state.</div><div class="line">    //            You don&#39;t need to use that, but it also takes care of restoring the last editor size</div><div class="line">    magicState.getStateInformation (destData);</div><div class="line">}</div><div class="line"></div><div class="line">void setStateInformation (const void* data, int sizeInBytes) override</div><div class="line">{</div><div class="line">    // MAGIC GUI: let the magicState conveniently handle save and restore the state.</div><div class="line">    //            You don&#39;t need to use that, but it also takes care of restoring the last editor size</div><div class="line">    magicState.setStateInformation (data, sizeInBytes, getActiveEditor());</div><div class="line">}</div></div><!-- fragment --><h2>Removing the WYSWYG editor </h2>
<p>The WYSWYG editor panel (attached outside the PluginEditor) is switched on or off with the config in Projucer named <code>FOLEYS_SHOW_GUI_EDITOR_PALLETTE</code>. An effective way is to add <code>FOLEYS_SHOW_GUI_EDITOR_PALLETTE=0</code> into extra preprocessor defines of the release build, that way you can design in debug mode, and avoid the WYSWYG editor from being included in the release build for deployment.</p>
<h2>Currently available Components </h2>
<p>It is completely possible to register your own bespoke Components into the builder. These Components are already available:</p>
<ul>
<li>Slider (attachable to parameters)</li>
<li>ComboBox ( -"- )
- ToggleButton ( -"- )</li>
<li>TextButton ( -"- )</li>
<li>XYDragComponent (attachable to two parameters)</li>
<li>Plot (displays various 2-d data)</li>
<li>LevelMeter (displays different RMS / Max levels)</li>
<li>Label</li>
<li>MidiKeyboardComponent</li>
<li>WebBrowserComponent</li>
</ul>
<p>All Components have the option to add margins/paddings and a border also with rounded corners. The View component serves as container, that has the option to layer all child components on top of each other or to layout them using flex-box.</p>
<h2>Demo projects </h2>
<p>There is a repository with demo projects, that includes this module as git submodule: <a href="https://github.com/ffAudio/PluginGuiMagic">PluginGuiMagic examples</a></p>
<h2>Contributing </h2>
<p>Everybody is welcome and encouraged to contribute. This is supposed to be helpful for as many people as possible, so please give your ideas as github issues and send pull requests.</p>
<p>We might ask you to change things in your pull requests to keep the style consistent and to keep the API as concise as possible.</p>
<p>We have a repository containing example projects, that are our reference what must not break. These will be built on our CI for OSX and Windows 10, so we catch hopefully any breakage early on. Clone that repository using: </p><div class="fragment"><div class="line">git clone --recurse-submodules https://github.com/ffAudio/PluginGuiMagic.git</div></div><!-- fragment --><p> To update: </p><div class="fragment"><div class="line">git pull origin master</div><div class="line">git submodule update</div></div><!-- fragment --><p>Brighton, UK - started Sept. 2019 </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 4 2020 22:13:45 for foleys_gui_magic by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
